-- 記事
drop table if exists articles cascade;

create table articles (
 id serial primary key
 , user_id integer not null
 , title varchar(100)
 , name text not null
 , prefecture text not null
 , content text not null
 , post_date date 
 , image_path text not null
 , trip_start_date date not null 
 ,trip_end_date date not null
 ,transportation text
 ,fare integer
 ,hotel_name text
 ,hotel_fee integer 
 ,meal_fee integer
 ,other_amount integer
 ,total_fee integer
); 

-- ユーザー
drop table if exists users cascade;

create table users (
 user_id serial primary key
 , name varchar(100) not null
 , email varchar(100) not null unique
 , password text not null
 , zipcode varchar(7) not null
 , address varchar(200) not null
 , telephone varchar(15) not null
 , nick_name varchar(20)
 , image text
) ;

-- コメント
drop table if exists comments cascade;

CREATE TABLE comments
(
id serial NOT NULL, --コメントID
name text NOT NULL, --名前
content text NOT NULL, --コンテント
article_id integer NOT NULL, --投稿ID
CONSTRAINT comments_pkey PRIMARY KEY (id),
FOREIGN KEY (article_id) REFERENCES articles (id)
);

--ユーザー登録(pass:morimori)
insert into users(name, email, password, zipcode, address, telephone) values('テストユーザ', 'test@test.co.jp', '6f','1111111', 'テスト住所', 'テスト電話番号');

-- レビュー
drop table if exists reviews cascade;

CREATE TABLE reviews(
id serial primary key, --レビューID
star integer NOT NULL, --評価
review_title text NOT NULL, --タイトル
message text NOT NULL --メッセージ
);

--いいねボタン
drop table if exists goods cascade;
create table goods (
	id serial primary key
	,user_id integer not null
	,article_id integer not null
);